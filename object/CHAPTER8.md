---
sort: 8
---

# 의존성 관리하기

협력을 위해서는 의존성이 필요하지만 과도한 의존성은 애플리케이션을 수정하기 어렵게 만든다.  
객체지향 설계의 핵심은 협력을 위해 필요한 의존성은 유지하면서도 변경을 방해하는 의존성은 제거하는 데 있다.  
이런 관점에서 객체지향 설계란 의존성을 관리하는 것이고 객체가 변화를 받아들일 수 있게 의존성을 정리하는 기술이라고 할 수 있다.  

---

## 의존성 이해하기

### 변경과 의존성

두 요소 사이의 의존성이 존재한다는 것은 의존되는 요소가 변경될 때 함께 변경 될 수 있음을 의미

### 의존성 전이

A -> B -> C

A가 의존하는 B가 C를 의존하므로 B의 의존성이 A에 전이되었음  
의존성 전이(transitive dependency): 한 요소가 다른 요소에 의존할 때 그 대상 요소가 의존하는 다른 요소 또한 의존하게 되는 것  

A는 B를 직접 의존, B는 C를 직접 의존  
직접 의존성(direct dependency): 한 요소가 다른 요소에 직접 의존하는 경우  

A는 C를 간접 의존  
간접 의존성(indirect depency): 직접적인 관계는 없지만 의존성 전이에 의해 영향을 받는 경우

의존성은 전이될 수 있으나 내부 구현을 효과적으로 캡슐화 했다면 전이되지 않을 수 있음  
즉, 간접 의존을 하고 있는 경우 어떤 구현의 변경으로 인하여 의존성이 전이될 수 있으나  
캡술화를 잘 하였다면 변경의 여파를 최소화할 수 있다는 얘기

### 런타임 의존성과 컴파일타임 의존성

컴파일 시점에 가지는 의존성과 런타임 시점에 가지는 의존성이 다름  

컴파일 시점: 다형성을 이용하여 클라이언트 객체는 인터페이스만을 바라봄  
런타임 시점: 인터페이스 타입에 대입된 구현체가 실제 의존을 가지는 객체가 됨

### 컨텍스트 독립성

인터페이스가 아닌 구현체를 의존하는 경우 해당 구현체의 문맥에 강하게 결합됨  
강하게 결합된다는 것은 해당 구현체만을 위한 클래스가 되기 쉬움

구현체의 문맥에 얽매이지 않는다 -> 컨텍스트에 독립적이다

컨텍스트 독립성: 구현체의 문맥에 얽매이지 않는 정도

### 의존성 해결하기

의존성 해결: 컴파일타임 의존성을 실행 컨텍스트에 맞는 적절한 런타임 의존성으로 교체하는 것  
default로 적용할 구현체는 생성자를 통해 주입시키고, 이후 필요에 따라 setter 메서드를 통해 의존 대상 변경하는 것이 가장 선호되는 방법

    - 객체를 생성하는 시점에 생성자를 통해 의존성 해결
    - 객체 생성 후 setter 메서드를 통해 의존성 해결
    - 메서드 실행 시 인자를 이용해 의존성 해결

구현체에 직접 의존하지 않고 외부로부터 의존성을 주입받아 특정 구현체에 결합되지 않도록 함을 의미 

## 유연한 설계

### 의존성과 결합도






