---
sort: 6
---

# 메시지와 인터페이스

---

## 메시지

    - 메시지는 객체들이 협력하기 위해 사용할 수 있는 유일한 의사소통 수단
    - 메시지: 오퍼레이션명(Operation Name)과 인자(Argument)로 구성
    - 메시지 전송: 메시지 수신자, 오퍼레이션명, 인자의 조합
    - 메서드: 메시지를 수신했을 때 실제로 실행되는 함수 또는 프로시저
  
### 메시지 전송

    - 동일한 메시지를 전송하더라도 객체의 타입에 따라 실행되는 메서드가 달라질 수 있음
    - 객체는 메시지와 메서드라는 두 가지 서로 다른 개념을 런타임 시점에 연결함
    - 메시지가 객체의 퍼블릭 인터페이스와 그 안에 포함된 오퍼레이션을 결정함  

## 디미터 법칙
    - Law of Demeter
    - 협력하는 객체의 내부 구조에 대한 결합으로 인해 발생하는 설계 문제를 해결하기 위해 제안된 원칙
    - 객체의 내부 구조에 강하게 결합되지 않도록 협력 경로를 제한하라는 것
    - "낯선 자에게 말하지 마라", "오직 인접한 이웃하고만 말하라", "오직 하나의 도트만 사용하라"

### 디미터 법칙과 캡슐화
    
    - 디미터 법칙은 캡슐화를 다른 관점에서 표현한 것
    - 캡슐화 원칙: 클래스 내부의 구현을 감춰야 한다는 사실을 강조
    - 디미터 법칙: 협력하는 클래스의 캡슐화를 지키기 위해 접근해야 하는 요소를 제한
    - 기차 충돌(train wreck)의 형태를 띄는 코드는 클래스 내부 구현이 외부로 노출됐을 때 나타나는 전형적인 형태

### 디미터 법칙의 적용

    - 객체 자신
    - 메서드의 매개변수로 넘어온 인자
    - 인스턴스 변수로 가지고 있는 객체
    - 메서드 내에서 생성된 객체

## 묻지 말고 시켜라

    - 묻지 말고 시켜라 원칙을 따르면 밀접하게 연관된 정보와 행동을 함께 가지는 객체를 만들 수 있음
    - 메시지 전송자는 메시지 수신자의 상태를 기반으로 결정을 내린 후 메시지 수신자의 상태를 바꿔서는 안 됨
    - 객체의 외부에서 해당 객체의 상태를 기반으로 결정을 내리는 것은 객체의 캡슐화를 위반
    - 외부에서는 묻지 말고 시키고 상태에 대한 판단은 객체 내부에서 하도록 함

## 의도를 드러내는 인터페이스
  
    - 의도를 드러내는 선택자를 인터페이스 영역으로 확장시킨 것

### 의도를 드러내는 선택자

    - '어떻게'가 아닌 '무엇'을 하는지를 드러내도록 메서드의 이름을 지을 것
    - '어떻게'를 드러내는 이름은 이른 시기부터 클래스의 내부 구현에 관해 고민할 수 밖에 없음
    - '무엇'을 드러내는 이름을 짓기 위해서는 객체가 협력 안에서 수행해야 하는 책임에 관해 고민하도록 함
        - 협력하는 클라이언트의 의도에 부합하도록 메서드의 이름을 짓게 됨

## 명령-쿼리 분리 원칙

    - Command-Query Separation
    - 객체의 상태를 수정하는 오퍼레이션: 명령(프로시저)
    - 객체와 관련된 정보를 반환하는 오퍼레이션: 쿼리(함수)
    - 명령은 상태를 변경할 수 있지만 상태를 반환해서는 안 됨
    - 쿼리는 객체의 상태를 반환할 수 있지만 상태를 변경해서는 안 됨
    - 명령-쿼리 분리 원칙의 요지는 오퍼레이션은 명령이거나 쿼리 중 하나여야 한다는 것
        - 어떤 오퍼레이션도 명령인 동시에 쿼리여서는 안 됨

## 용어 정리
    
    - 오퍼레이션: 메시지 전송 시 대응되는 것
    - 메서드: 오퍼레이션의 구현
    - 시그니처: 오퍼레이션의 명세
    - 퍼블릭 인터페이스: 오퍼레이션의 집합

***<span style="color:#f08080">
디미터 법칙은 객체 간의 협력을 설계할 때 캡슐화를 위반하는 메시지가 인터페이스에 포함되지 않도록 제한한다  
묻지 말고 시켜라 원칙은 디미터 법칙을 준수하는 협력을 만들기 위한 스타일을 제시한다  
의도를 드러내는 인터페이스 원칙은 객체의 퍼블릭 인터페이스에 어떤 이름이 드러나야 하는지에 대한 지침을  
제공함으로써 코드의 목적을 명확하게 커뮤니케이션할 수 있게 해준다
</span>***




